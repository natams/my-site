<!DOCTYPE HTML>
<html>

<head>
    <!-- FAVICON and Tab Name-->
    <title>Nathalie Amselem</title>
    <link rel="icon" type="image/x-icon" href="images/n-favicon.png">

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Assistant:wght@200..800&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">

    <!-- Link to CSS and JS -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="background.css" />
    <link rel="stylesheet" href="playpen.css" />
    <script src="https://kit.fontawesome.com/14cfbcea0d.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Pages -->
    <link rel="prefetch" href="index.html" />
    <link rel="prefetch" href="projects.html" />
    <link rel="prefetch" href="experience.html" />
    <link rel="prefetch" href="contact.html" />


</head>

<body class="playpen">

    <header>

        <nav class="nav-bar">
            <div class="svg-icon" data-title="Home">
                <a href="index.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </a>
            </div>
            <div class="svg-icon" data-title="Projects">
                <a href="projects.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z">
                        </path>
                    </svg>
                </a>
            </div>
            <div class="svg-icon" data-title="Experience">
                <a href="experience.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                        <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                    </svg>
                </a>
            </div>
            <div class="svg-icon" data-title="Contact">
                <a href="contact.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                    </svg>
                </a>
            </div>
            <div class="svg-icon" data-title="Play Pen">
                <a href="playpen.html">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="2 2 20 20" fill="none"
                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="6" x2="10" y1="11" y2="11" />
                        <line x1="8" x2="8" y1="9" y2="13" />
                        <line x1="15" x2="15.01" y1="12" y2="12" />
                        <line x1="18" x2="18.01" y1="10" y2="10" />
                        <path
                            d="M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z" />
                    </svg>
                </a>
            </div>
        </nav>

    </header>

    <main>

        <div class="fractal-background"></div>

        <!-- <div class="sign">
            <div>
                <h1>Coming Soon</h1>
            </div>
            <div class="dot-flashing"></div>
        </div> 
        -->

        <div class="play-header">
            <h2>Welcome to my</h2>
            <svg viewBox="0 0 1100 150">
                <symbol id="s-text">
                    <text text-anchor="middle" x="50%" y="50%" dy=".35em">Playpen</text>
                </symbol>
                <use xlink:href="#s-text" class="text"></use>
                <use xlink:href="#s-text" class="text"></use>
                <use xlink:href="#s-text" class="text"></use>
                <use xlink:href="#s-text" class="text"></use>
                <use xlink:href="#s-text" class="text"></use>
            </svg>
            <button class="border" id="refresh-btn">Refresh Page</button>

            <script>
                document.getElementById("refresh-btn").addEventListener("click", function () {
                    location.reload();
                });
            </script>
        </div>

        <div class="playpen-page">

            <div class="play-item play-1">
                <div class="play-unsubscribe">
                    <p>Are you sure you want to unsubscribe?</p>
                    <button id='runaway-btn'>Unsubscribe</button>
                </div>
                <script>
                    document.addEventListener("DOMContentLoaded", () => {
                        const button = document.getElementById("runaway-btn");
                        const playItem = document.querySelector(".play-item");

                        if (!button || !playItem) {
                            console.error("Button or playItem not found in the DOM.");
                            return;
                        }

                        const animateMove = (element, prop, pixels) =>
                            anime({
                                targets: element,
                                [prop]: `${pixels}px`,
                                easing: "easeOutCirc"
                            });

                        ["mouseover", "click"].forEach(function (event) {
                            button.addEventListener(event, function () {
                                const boxRect = playItem.getBoundingClientRect();
                                const btnRect = this.getBoundingClientRect();

                                // Adjust maxTop and maxLeft by removing half the button's size to keep it inside the box
                                const maxTop = boxRect.height - btnRect.height / 2;
                                const maxLeft = boxRect.width - btnRect.width / 2;
                                const minTop = btnRect.height / 2;
                                const minLeft = btnRect.width / 2;

                                const top = getRandomNumber(minTop, maxTop);
                                const left = getRandomNumber(minLeft, maxLeft);

                                animateMove(this, "top", top).play();
                                animateMove(this, "left", left).play();
                            });
                        });

                        const getRandomNumber = (min, max) => Math.floor(Math.random() * (max - min) + min);
                    });
                </script>
            </div>

            <div class="play-item play-8">
                <div class="play-8-scale">
                    <h1 class="whack-title">Tap Attack</h1>
                    <p id="gameOverMessage">Game Over! You missed 3 times.</p>
                    <button id="playnow" class="whack-playnow">Play Now</button>
                    <div class="whack-mole-grid">
                        <div class="whack-hole" data-index="0"></div>
                        <div class="whack-hole" data-index="1"></div>
                        <div class="whack-hole" data-index="2"></div>
                        <div class="whack-hole" data-index="3"></div>
                        <div class="whack-hole" data-index="4"></div>
                        <div class="whack-hole" data-index="5"></div>
                        <div class="whack-hole" data-index="6"></div>
                        <div class="whack-hole" data-index="7"></div>
                        <div class="whack-hole" data-index="8"></div>
                    </div>
                    <p class="whack-score" id="moleScore">Score: 0</p>
                    <button class="whack-restart" id="restartMole" style="display: none;">Restart Game</button>
                </div>
                <script>
let moleScore = 0;
let missCount = 0;
const maxMisses = 3;
let moleInterval;
let intervalTime = 1000; // Start speed (1s per mole)
const minInterval = 600; // Slowest possible speed (0.6s per mole)
const speedIncreaseThreshold = 3; // Speed increases every 3 hits

const scoreDisplay = document.getElementById("moleScore");
const gameOverMessage = document.getElementById("gameOverMessage");
const playButton = document.getElementById("playnow");
const restartButton = document.getElementById("restartMole");
const holes = document.querySelectorAll(".whack-mole-grid .whack-hole");

let activeHoleIndex = -1;
let gameStarted = false;

// Function to show a mole in a random hole
function showMole() {
    if (activeHoleIndex >= 0) {
        if (holes[activeHoleIndex].classList.contains("whack-active")) {
            missCount++;
        }
        holes[activeHoleIndex].classList.remove("whack-active");
    }

    if (missCount >= maxMisses) {
        endGame();
        return;
    }

    activeHoleIndex = Math.floor(Math.random() * holes.length);
    holes[activeHoleIndex].classList.add("whack-active");

    clearInterval(moleInterval);
    moleInterval = setInterval(showMole, intervalTime);
}

// Start game: Reset everything and begin showing moles
function startMoleGame() {
    moleScore = 0;
    missCount = 0;
    intervalTime = 1000; // Reset interval to normal
    scoreDisplay.innerText = "Score: " + moleScore;

    gameOverMessage.style.display = "none";
    playButton.style.display = "none";
    restartButton.style.display = "inline-block";

    gameStarted = true;
    moleInterval = setInterval(showMole, intervalTime);
}

// End game: Show Game Over message and stop mole spawning
function endGame() {
    clearInterval(moleInterval);
    gameStarted = false;

    gameOverMessage.style.display = "block";
    playButton.style.display = "none";
    restartButton.style.display = "inline-block";
}

// Restart game when restart button is clicked
restartButton.addEventListener("click", () => {
    clearInterval(moleInterval);
    gameStarted = false;

    // Remove any active moles
    holes.forEach((hole) => hole.classList.remove("whack-active"));

    gameOverMessage.style.display = "none";
    playButton.style.display = "inline-block";
    restartButton.style.display = "none";
});


// Add click event listeners to all holes
holes.forEach((hole) => {
    hole.addEventListener("click", () => {
        if (gameStarted && hole.classList.contains("whack-active")) {
            moleScore++;
            scoreDisplay.innerText = "Score: " + moleScore;
            hole.classList.remove("whack-active");
            activeHoleIndex = -1;
            missCount = 0; // Reset miss count on a successful hit

            // Speed up every few hits
            if (moleScore % speedIncreaseThreshold === 0) {
                let newInterval = Math.max(minInterval, intervalTime * 0.975); // Reduce interval by 2.5%
                intervalTime = newInterval;
            }
        }
    });
});

// Start game when "Play Now" is clicked
playButton.addEventListener("click", startMoleGame);

                </script>
            </div>

            <div class="play-item play-6">
                <div class="memory-game">
                    <div class="play-6-game">
                        <h3>Emoji Memory Game</h3>
                        <div class="game-board" id="gameBoard"></div>
                        <p>Moves: <span id="moves">0</span></p>
                        <button id="restartBtn">Restart Game</button>
                    </div>
                    <div id="emojiRainContainer"></div>
                </div>
                <script>
                    const emojis = ['😀', '😂', '😍', '😎', '😜', '🤩', '🥳', '😡'];
                    let gameBoard = document.getElementById("gameBoard");
                    let movesCounter = document.getElementById("moves");
                    let restartBtn = document.getElementById("restartBtn");
                    let emojiRainContainer = document.getElementById("emojiRainContainer");

                    let moves = 0;
                    let firstCard = null;
                    let secondCard = null;

                    function shuffle(array) {
                        return array.sort(() => Math.random() - 0.5);
                    }

                    function createGame() {
                        let emojiPairs = shuffle([...emojis, ...emojis]);
                        gameBoard.innerHTML = "";
                        moves = 0;
                        movesCounter.textContent = moves;
                        firstCard = secondCard = null;
                        restartBtn.style.display = "none"; // Hide restart button initially

                        emojiPairs.forEach(emoji => {
                            let card = document.createElement("div");
                            card.classList.add("card");
                            card.dataset.emoji = emoji;
                            card.addEventListener("click", flipCard);
                            gameBoard.appendChild(card);
                        });
                    }

                    function flipCard() {
                        if (this.classList.contains("flipped") || secondCard) return;

                        this.textContent = this.dataset.emoji;
                        this.classList.add("flipped");

                        if (!firstCard) {
                            firstCard = this;
                            restartBtn.style.display = "inline-block"; // Show restart button when first card is clicked
                        } else {
                            secondCard = this;
                            moves++;
                            movesCounter.textContent = moves;
                            checkMatch();
                        }
                    }

                    function checkMatch() {
                        if (firstCard.dataset.emoji === secondCard.dataset.emoji) {
                            firstCard.classList.add("matched");
                            secondCard.classList.add("matched");
                            checkWin();
                            resetTurn();
                        } else {
                            setTimeout(() => {
                                firstCard.textContent = "";
                                secondCard.textContent = "";
                                firstCard.classList.remove("flipped");
                                secondCard.classList.remove("flipped");
                                resetTurn();
                            }, 1000);
                        }
                    }

                    function resetTurn() {
                        firstCard = null;
                        secondCard = null;
                    }

                    function checkWin() {
                        if (document.querySelectorAll(".matched").length === emojis.length * 2) {
                            startEmojiRain();
                            restartBtn.style.display = "inline-block"; // Restart button appears after winning
                        }
                    }

                    function startEmojiRain() {
                        emojiRainContainer.innerHTML = "";
                        emojiRainContainer.style.position = "absolute";
                        emojiRainContainer.style.top = "0";
                        emojiRainContainer.style.left = "0";
                        emojiRainContainer.style.width = "100%";
                        emojiRainContainer.style.height = "100vh";
                        emojiRainContainer.style.pointerEvents = "none";
                        emojiRainContainer.style.overflow = "hidden";
                        emojiRainContainer.style.zIndex = "100";

                        for (let i = 40; i--;) {
                            let emoji = document.createElement("div");
                            emoji.classList.add("emoji");
                            emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                            emoji.style.position = "absolute";
                            emoji.style.left = Math.random() * 100 + "%";
                            emoji.style.top = "-30px";
                            emoji.style.fontSize = Math.random() * 1.5 + 0.5 + "em";
                            emoji.style.animation = `fall ${Math.random() * 2 + 1.5}s linear forwards`;

                            emojiRainContainer.appendChild(emoji);

                            setTimeout(() => {
                                emoji.remove();
                            }, 8000);
                        }
                    }

                    restartBtn.addEventListener("click", createGame);
                    createGame();

                </script>
            </div>

            <div class="play-item play-5">
                <div class="colorGuess">
                    <h1 class="title">Guess the color (<span id="score">0/0</span>)</h1>
                    <div id="colorDisplay" class="color"></div>
                    <div id="buttonsContainer" class="btns"></div>
                    <div id="resultContainer" class="result" style="display: none;">
                        <div id="resultText"></div>
                        <button id="nextBtn" class="btn">Next</button>
                    </div>
                </div>
                <script>
                    let score = { tries: 0, success: 0 };
                    let correctColor = "";

                    function getColor() {
                        const chars = "1234567890ABCDEF";
                        let color = "#";
                        for (let i = 0; i < 6; i++) {
                            color += chars[Math.floor(Math.random() * chars.length)];
                        }
                        return color;
                    }

                    function generateColors() {
                        let colors = [getColor(), getColor(), getColor()];
                        correctColor = colors[Math.floor(Math.random() * colors.length)];

                        document.getElementById("colorDisplay").style.backgroundColor = correctColor;

                        let buttonsContainer = document.getElementById("buttonsContainer");
                        buttonsContainer.innerHTML = ""; // Clear previous buttons

                        colors.forEach(color => {
                            let btn = document.createElement("button");
                            btn.classList.add("btn");
                            btn.textContent = color;
                            btn.style.backgroundColor = "#c78f00"; // Reset button color
                            btn.onclick = () => checkAnswer(color);
                            buttonsContainer.appendChild(btn);
                        });

                        // Hide result and re-enable buttons
                        document.getElementById("resultContainer").style.display = "none";
                    }

                    function checkAnswer(color) {
                        let isCorrect = color === correctColor;
                        score.tries++;
                        if (isCorrect) {
                            score.success++;
                        }

                        document.getElementById("resultText").textContent = isCorrect ? "Correct!" : "Wrong!";
                        document.getElementById("resultContainer").style.display = "block";
                        document.getElementById("score").textContent = `${score.success}/${score.tries}`;

                        // Disable buttons after answering
                        document.querySelectorAll("#buttonsContainer .btn").forEach(btn => {
                            btn.classList.add("disabled");
                            btn.style.backgroundColor = btn.textContent === correctColor ? "green" : "red"; // Show correct answer
                        });
                    }

                    // Reset game when clicking "Next"
                    document.getElementById("nextBtn").addEventListener("click", function () {
                        generateColors();
                        document.querySelectorAll("#buttonsContainer .btn").forEach(btn => btn.classList.remove("disabled"));
                    });

                    generateColors();
                </script>
            </div>

            <div class="play-item play-2">
                <button id="confetti-btn">Click me!</button>
                <script>
                    function randomInRange(min, max) {
                        return Math.random() * (max - min) + min;
                    }

                    document.getElementById("confetti-btn").addEventListener("click", function (event) {
                        const button = event.target;
                        const rect = button.getBoundingClientRect();

                        const centerX = (rect.left + rect.right) / 2 / window.innerWidth;
                        const centerY = (rect.top + rect.bottom) / 2 / window.innerHeight;

                        confetti({
                            particleCount: 100,
                            startVelocity: 40,
                            spread: 360,
                            origin: { x: centerX, y: centerY }
                        });
                    });
                </script>
            </div>

            <div class="play-item play-3">
                <h1>Click anywhere to HIT!</h1>
                <script>
                    var winPos;
                    var flag = false;

                    document.querySelector(".play-3").addEventListener("click", function (e) {
                        var div = document.createElement("div");
                        this.appendChild(div); // Append div to play-3 container

                        // Set the position of the new div relative to the play-3 container
                        div.style.left = e.pageX - this.offsetLeft + "px";
                        div.style.top = e.pageY - this.offsetTop + "px";

                        var maxElems = 16;
                        for (var i = 0; i < maxElems; i++) {
                            var span = document.createElement("span");
                            var newSpan = div.appendChild(span);
                            var deg = i * (360 / maxElems) + Math.floor(Math.random() * 15);
                            var height = 20 + Math.floor(Math.random() * 30);
                            var width = 4 + Math.floor(Math.random() * 10);
                            newSpan.style.height = height + "px";
                            newSpan.style.width = width + "px";
                            newSpan.style.transform = "rotate(" + deg + "deg)";
                        }

                        window.requestAnimationFrame(function () {
                            Array.from(div.querySelectorAll("span")).forEach((el) => {
                                var trasY = -50 - Math.floor(Math.random() * 100);
                                el.style.transform += "scaleY(0.5) translateY(" + trasY + "px)";
                                el.style.opacity = "0";
                            });

                            // Remove the div after animation
                            window.setTimeout(function () {
                                div.remove();
                            }, 400);
                        });

                        // Handle shake effect (Rotation-based shake)
                        if (!flag) {
                            flag = true;

                            // Set the initial position of .play-3
                            var play3 = this;
                            var originalRotation = 0;

                            var maxShakeDegree = 5; // Maximum rotation angle for the shake effect
                            var shakeCount = 0;

                            // Rotation shake effect - rotate back and forth
                            var shake = window.setInterval(function () {
                                var randomShakeDegree = Math.random() * maxShakeDegree - maxShakeDegree / 2;
                                play3.style.transform = `rotate(${randomShakeDegree}deg)`; // Apply random rotation

                                shakeCount++;
                                if (shakeCount >= 20) { // Stop after a certain number of shakes
                                    window.clearInterval(shake);
                                    play3.style.transform = "rotate(0deg)"; // Reset rotation to original position
                                    flag = false;
                                }
                            }, 30); // Interval for the shaking effect
                        }
                    });

                </script>
            </div>

        </div>

        <div class="border-glow">
            <div class="playpen-question">
                <h1>Do you like my deisgn?</h1>
                <div class="question-flex">
                    <button class="border" id="yes-btn">Yes</button>
                    <button class="border" id="no-btn">No</button>
                </div>
                <div id="response">I knew you would say Yes!</div>
                <script>
                    document.getElementById("no-btn").addEventListener("click", function () {
                        this.style.display = 'none';  // Hide the 'No' button after clicking
                    });

                    document.getElementById("yes-btn").addEventListener("click", function () {
                        document.getElementById("response").style.display = 'block';
                    });

                </script>
            </div>
        </div>

    </main>

    <footer>
        <p>Copyright © <span class="year"></span> Nathalie Amselem. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>

</body>

</html>